"use strict";(self.webpackChunkecommerce_application=self.webpackChunkecommerce_application||[]).push([[741],{2523:(t,e,i)=>{i.d(e,{Z:()=>o});var n=i(8081),r=i.n(n),s=i(3645),a=i.n(s)()(r());a.push([t.id,".swiper{max-width:30rem;width:50%;aspect-ratio:1}@media(max-width: 550px){.swiper{width:80%}}.swiper-button-prev,.swiper-button-next{color:red}",""]);const o=a},5318:(t,e,i)=>{i.d(e,{Z:()=>o});var n=i(8081),r=i.n(n),s=i(3645),a=i.n(s)()(r());a.push([t.id,".spinner {\n  position: absolute;\n  top: calc(50vh - 60px);\n  left: calc(50vw - 60px);\n  display: block;\n}\n\n.spinner_hide {\n  display: none;\n}\n\n#floatingCirclesG {\n  position: relative;\n  width: 120px;\n  height: 120px;\n  margin: auto;\n  transform: scale(0.6);\n  -o-transform: scale(0.6);\n  -ms-transform: scale(0.6);\n  -webkit-transform: scale(0.6);\n  -moz-transform: scale(0.6);\n}\n\n.f_circleG {\n  position: absolute;\n  background-color: rgb(255, 255, 255);\n  height: 22px;\n  width: 22px;\n  border-radius: 12px;\n  -o-border-radius: 12px;\n  -ms-border-radius: 12px;\n  -webkit-border-radius: 12px;\n  -moz-border-radius: 12px;\n  animation-name: f_fadeG;\n  -o-animation-name: f_fadeG;\n  -ms-animation-name: f_fadeG;\n  -webkit-animation-name: f_fadeG;\n  -moz-animation-name: f_fadeG;\n  animation-duration: 1.2s;\n  -o-animation-duration: 1.2s;\n  -ms-animation-duration: 1.2s;\n  -webkit-animation-duration: 1.2s;\n  -moz-animation-duration: 1.2s;\n  animation-iteration-count: infinite;\n  -o-animation-iteration-count: infinite;\n  -ms-animation-iteration-count: infinite;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  animation-direction: normal;\n  -o-animation-direction: normal;\n  -ms-animation-direction: normal;\n  -webkit-animation-direction: normal;\n  -moz-animation-direction: normal;\n}\n\n#frotateG_01 {\n  left: 0;\n  top: 51px;\n  animation-delay: 0.45s;\n  -o-animation-delay: 0.45s;\n  -ms-animation-delay: 0.45s;\n  -webkit-animation-delay: 0.45s;\n  -moz-animation-delay: 0.45s;\n}\n\n#frotateG_02 {\n  left: 15px;\n  top: 15px;\n  animation-delay: 0.6s;\n  -o-animation-delay: 0.6s;\n  -ms-animation-delay: 0.6s;\n  -webkit-animation-delay: 0.6s;\n  -moz-animation-delay: 0.6s;\n}\n\n#frotateG_03 {\n  left: 51px;\n  top: 0;\n  animation-delay: 0.75s;\n  -o-animation-delay: 0.75s;\n  -ms-animation-delay: 0.75s;\n  -webkit-animation-delay: 0.75s;\n  -moz-animation-delay: 0.75s;\n}\n\n#frotateG_04 {\n  right: 15px;\n  top: 15px;\n  animation-delay: 0.9s;\n  -o-animation-delay: 0.9s;\n  -ms-animation-delay: 0.9s;\n  -webkit-animation-delay: 0.9s;\n  -moz-animation-delay: 0.9s;\n}\n\n#frotateG_05 {\n  right: 0;\n  top: 51px;\n  animation-delay: 1.05s;\n  -o-animation-delay: 1.05s;\n  -ms-animation-delay: 1.05s;\n  -webkit-animation-delay: 1.05s;\n  -moz-animation-delay: 1.05s;\n}\n\n#frotateG_06 {\n  right: 15px;\n  bottom: 15px;\n  animation-delay: 1.2s;\n  -o-animation-delay: 1.2s;\n  -ms-animation-delay: 1.2s;\n  -webkit-animation-delay: 1.2s;\n  -moz-animation-delay: 1.2s;\n}\n\n#frotateG_07 {\n  left: 51px;\n  bottom: 0;\n  animation-delay: 1.35s;\n  -o-animation-delay: 1.35s;\n  -ms-animation-delay: 1.35s;\n  -webkit-animation-delay: 1.35s;\n  -moz-animation-delay: 1.35s;\n}\n\n#frotateG_08 {\n  left: 15px;\n  bottom: 15px;\n  animation-delay: 1.5s;\n  -o-animation-delay: 1.5s;\n  -ms-animation-delay: 1.5s;\n  -webkit-animation-delay: 1.5s;\n  -moz-animation-delay: 1.5s;\n}\n\n@keyframes f_fadeG {\n  0% {\n    background-color: rgb(0, 0, 0);\n  }\n\n  100% {\n    background-color: rgb(255, 255, 255);\n  }\n}\n\n@-o-keyframes f_fadeG {\n  0% {\n    background-color: rgb(0, 0, 0);\n  }\n\n  100% {\n    background-color: rgb(255, 255, 255);\n  }\n}\n\n@-ms-keyframes f_fadeG {\n  0% {\n    background-color: rgb(0, 0, 0);\n  }\n\n  100% {\n    background-color: rgb(255, 255, 255);\n  }\n}\n\n@-webkit-keyframes f_fadeG {\n  0% {\n    background-color: rgb(0, 0, 0);\n  }\n\n  100% {\n    background-color: rgb(255, 255, 255);\n  }\n}\n\n@-moz-keyframes f_fadeG {\n  0% {\n    background-color: rgb(0, 0, 0);\n  }\n\n  100% {\n    background-color: rgb(255, 255, 255);\n  }\n}\n",""]);const o=a},7683:(t,e,i)=>{i.d(e,{p0:()=>o});var n=i(9631),r=i(9909),s=i(2953);const a="best-games",o=()=>{const t=`best-games-${r.Z.newGuid().slice(0,10)}`;localStorage.setItem(s.Z.ANONYMOUS_ID,t);const e={host:"https://auth.europe-west1.gcp.commercetools.com",projectKey:a,credentials:{clientId:"A8PxwfHMEiItZ24oahyDGO2A",clientSecret:"RKi7doGwQ75b4wfuLsPuahDT366uOhUY",anonymousId:t},scopes:[`manage_project:${a}`]};return(new n.Qx).withAnonymousSessionFlow(e).withProjectKey(a).withHttpMiddleware({host:"https://api.europe-west1.gcp.commercetools.com"}).withLoggerMiddleware().build()}},5233:(t,e,i)=>{i.d(e,{r4:()=>s});var n=i(9631);const r="best-games",s=(t,e)=>{const i={host:"https://auth.europe-west1.gcp.commercetools.com",projectKey:r,credentials:{clientId:"A8PxwfHMEiItZ24oahyDGO2A",clientSecret:"RKi7doGwQ75b4wfuLsPuahDT366uOhUY",user:{username:t,password:e}},scopes:[`manage_project:${r}`],fetch},s={host:"https://api.europe-west1.gcp.commercetools.com",fetch};return(new n.Qx).withPasswordFlow(i).withProjectKey(r).withHttpMiddleware(s).withLoggerMiddleware().build()}},8624:(t,e,i)=>{i.d(e,{Z:()=>r});var n=i(8687);class r extends n.Z{constructor(){super(n.C.Error)}}},8687:(t,e,i)=>{i.d(e,{C:()=>n,Z:()=>o});var n,r,s=i(8588),a=i.n(s);i(5082),function(t){t[t.Info=0]="Info",t[t.Warning=1]="Warning",t[t.Error=2]="Error"}(n||(n={})),function(t){t.Info="linear-gradient(to right, rgb(0,176,155), rgb(150,201,61))",t.Warning="linear-gradient(90deg, #eeee00, #dddd00)",t.Error="linear-gradient(to right, rgb(255,95,109), rgb(255,195,113))"}(r||(r={}));class o{constructor(t=n.Error){this.messageType=t}showMessage(t){const e={text:t,style:{background:this.getBackgroundColor()}};a()(e).showToast()}getBackgroundColor(){let t;switch(this.messageType){case n.Info:t=r.Info;break;case n.Error:t=r.Error;break;default:t=r.Warning}return t}}},22:(t,e,i)=>{i.d(e,{Z:()=>r});var n=i(8687);class r extends n.Z{constructor(){super(n.C.Warning)}}},6689:(t,e,i)=>{i.r(e),i.d(e,{default:()=>lt});var n,r=i(3037),s=i(7683),a=i(5233);!function(t){t.ENUM_ATTRIBUTE_MASK="variants.attributes.%ATTRIBUTE%.key:%VALUE%",t.TEXT_ATTRIBUTE_MASK="variants.attributes.%ATTRIBUTE%:%VALUE%",t.PRICE_FILTER_MASK="variants.scopedPrice.currentValue.centAmount:range (%MIN% to %MAX%)"}(n||(n={}));class o{constructor(t){if(this.clientRoot=(0,r.mv)((0,s.p0)()).withProjectKey({projectKey:"best-games"}),this.MAX_PRODUCTS=500,t){const e=(0,a.r4)(t.email,t.password);this.clientRoot=(0,r.mv)(e).withProjectKey({projectKey:"best-games"})}}getAllProducts(){return this.clientRoot.products().get({queryArgs:{limit:this.MAX_PRODUCTS}}).execute()}getProducts(t){const e=t?{...t}:{};return this.clientRoot.productProjections().search().get({queryArgs:e}).execute()}getCategories(){return this.clientRoot.categories().get({queryArgs:{expand:"ancestors.id"}}).execute()}getProductbyID(t){return this.clientRoot.products().withId({ID:t}).get().execute()}getProductbyKey(t){return this.clientRoot.products().withKey({key:t}).get().execute()}productProjectionResponseID(t){return this.clientRoot.productProjections().withId({ID:t}).get({queryArgs:{staged:!0}}).execute()}productProjectionResponseKEY(t){return this.clientRoot.productProjections().withKey({key:t}).get({queryArgs:{staged:!0}}).execute()}}var c=i(1567),l=i(6249);const h="card-button--lLCM6",d="card-button_hide--GXukV",A="card-button_disabled--z5CXB";var g=i(891);const p={Strings:{NO_DATA:{"en-US":"n/a",en:"n/a",ru:"н/д"},EMPTY_TEXT:{"en-US":"",en:"",ru:""}}};var u=i(928),m=i(7652),f=i(8678),E=(i(212),i(8492),i(1580),i(3379)),b=i.n(E),T=i(7795),P=i.n(T),C=i(569),_=i.n(C),w=i(3565),v=i.n(w),y=i(9216),I=i.n(y),R=i(4589),G=i.n(R),N=i(2523),D={};D.styleTagTransform=G(),D.setAttributes=v(),D.insert=_().bind(null,"head"),D.domAPI=P(),D.insertStyleElement=I(),b()(N.Z,D),N.Z&&N.Z.locals&&N.Z.locals;const S="slider-popup__container--XLRAT";class B{constructor(t){this.creator=new l.Z,this.imagesUrl=[],this.imagesUrl=t.slice(),this.element=this.creator.createTagElement("div",[S]),this.closeButton=this.createCloseButton();const e=this.creator.createTagElement("div",["swiper"]);this.sliderWrapper=this.creator.createTagElement("div",["swiper-wrapper"]),this.pagination=this.creator.createTagElement("div",["swiper-pagination"]),this.swiperButtonPrev=this.creator.createTagElement("div",["swiper-button-prev"]),this.swiperButtonNext=this.creator.createTagElement("div",["swiper-button-next"]),e.append(this.sliderWrapper,this.pagination,this.swiperButtonPrev,this.swiperButtonNext,this.closeButton),this.element.append(e),this.addSlides(),this.configClose()}getElement(){return this.element}configClose(){this.element.addEventListener("click",this.closeHandler.bind(this))}createCloseButton(){return this.closeButton=this.creator.createTagElement("a",["slider-popup__close-button--fYNhM"]),this.closeButton.addEventListener("click",(()=>this.element.remove())),this.closeButton}closeHandler(t){t instanceof PointerEvent&&t.target instanceof HTMLElement&&t.target.classList.contains(S)&&this.element.remove()}addSlides(){this.imagesUrl.forEach(((t,e,i)=>{const n=this.creator.createTagElement("div",["swiper-slide"]),r=this.creator.createTagElement("img",["slider-popup__image--hgVZR"]);r.setAttribute("src",t),n.append(r),this.sliderWrapper.append(n),e===i.length-1&&r.addEventListener("load",this.initSwiper.bind(this))}))}initSwiper(){new m.Z(".swiper",{modules:[f.W_,f.tl],speed:500,direction:"horizontal",loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:!0})}}class M extends u.Z{constructor(t,e){super({tag:c.Z.DIV,classNames:["product-card--s0pAM","product-card__link--bP6bY"],textContent:""}),this.URL_NO_IMAGE="",this.LANG="en-US",this.COUNTRY="US",this.creator=new l.Z,this.product=t,this.router=e,this.buttonAddToCart=this.createButtonAddToCart(),this.buttonRemoveFromCart=this.createButtonRemoveFromCart(),this.configView()}getProduct(){return this.product}setProductInCart(t){t?(this.buttonAddToCart.classList.remove(A),this.buttonRemoveFromCart.classList.add(d)):(this.buttonAddToCart.classList.add(A),this.buttonRemoveFromCart.classList.remove(d))}getImagesUrl(){return this.product.masterVariant?.images?.map((t=>t.url))||[]}createButtonAddToCart(){return this.buttonAddToCart=this.creator.createTagElement("div",[h,"button-add--Qi79J"],"+"),this.buttonAddToCart}createButtonRemoveFromCart(){return this.buttonRemoveFromCart=this.creator.createTagElement("div",[h,"button-remove--F0aU5"],"-"),this.buttonRemoveFromCart}configView(){this.setRouteLink(),this.createProductView()}setRouteLink(){const t=`${g._.CATALOG}/${this.product.key}`;this.getElement().addEventListener("click",(()=>this.router.setHref(t)))}createProductView(){const t=this.getElement(),{masterVariant:e}=this.product,i=this.getImageElement(e),n=this.creator.createTagElement("div",["product-card__content-wrapper--QotyV"]);t.append(i,this.buttonRemoveFromCart,this.buttonAddToCart,n);const r=this.getTitleElement(),s=this.getDescriptionElement(),a=this.getPricesElement(e);n.append(r,s,a)}getPricesElement(t){const e=this.creator.createTagElement("span",["product-card__prices-wrapper--bYEIR"]),i=this.getLocalPrices(t),n=this.creator.createTagElement("span",["product-card__price--CA0vt"],i.value);if(e.append(n),i.discount){n.classList.add("product-card__price_discounted--mwMfR");const t=this.creator.createTagElement("span",["product-card__discount--qqqII"],i.discount);e.append(t)}return e}getDescriptionElement(){const t=this.product.description?.[this.LANG]||p.Strings.EMPTY_TEXT[this.LANG];return this.creator.createTagElement("span",["product-card__description--umGvb"],t)}getTitleElement(){const t=this.product.name[this.LANG]||p.Strings.NO_DATA[this.LANG];return this.creator.createTagElement("span",["product-card__title--h2nFl"],t)}getImageElement(t){const e=t.images?t.images[0].url:this.URL_NO_IMAGE,i=this.creator.createTagElement("img",["product-card__image--ReLtA"]);return i.setAttribute("src",e),i.addEventListener("click",this.showSliderPopup.bind(this)),i}showSliderPopup(t){t.stopPropagation();const e=this.getImagesUrl(),i=new B(e);document.body.append(i.getElement())}getLocalPrices(t){const e={value:"",discount:""},{prices:i}=t;if(i){const t=i.filter((t=>t.country===this.COUNTRY));if(t.length>0){const{value:i}=t[0];e.value=`${(i.centAmount/100).toFixed(i.fractionDigits)} ${i.currencyCode}`;const{discounted:n}=t[0];n?.value&&(e.discount=`${(n.value.centAmount/100).toFixed(n.value.fractionDigits)} ${n.value.currencyCode}`)}}return e}}var L=i(8624),x=i(7881),Z=i(4296);class F{constructor(t,e){const i=new l.Z;this.element=i.createTagElement("label",["number-input__label--TBM3m"],t),this.input=i.createTagElement("input",["number-input--gINc4"]),this.input.setAttribute("type","number"),this.input.setAttribute("step","0.01"),this.element.setAttribute("placeholder",e||""),this.element.append(this.input)}getElement(){return this.element}set value(t){this.input.value=t}get value(){return this.input.value}setPlaceholder(t){this.element.setAttribute("placeholder",t)}}var O;!function(t){t.GENGE="genre",t.PLATFORM="Platform",t.DEVELOPER="developer"}(O||(O={}));const k=O;var U=i(213);class Y{constructor(t,e,i){this.callback=i,this.element=(new l.Z).createTagElement("a",["filter-tag--f0cx7"],`${t}: ${e}`),this.element.addEventListener("click",this.clickHandler.bind(this))}getElement(){return this.element}clickHandler(){this.callback()}}class H extends u.Z{constructor(){super({tag:c.Z.DIV,classNames:["filter-header--ULKrZ"],textContent:""}),this.BUTTON_TEXT="Filter",this.tagWrapper=this.createTagWrapper(),this.observer=Z.Z.getInstance(),this.configView()}configView(){const t=this.createFilterButton();this.getElement().append(t.getElement(),this.tagWrapper)}createTagWrapper(){return this.tagWrapper=(new l.Z).createTagElement("div",["filter-header__tag-wrapper--Zv2pn"]),this.tagWrapper}addFilterTag(t,e,i){const n=new Y(t,e,i);this.tagWrapper.append(n.getElement())}clearFilterTags(){this.tagWrapper.replaceChildren("")}createFilterButton(){return new U.Z(this.BUTTON_TEXT,(()=>{this.observer.notify(x.Z.SHOW_FILTER)}))}}class V{constructor(t,e,i=(()=>{})){this.label=t,this.filters=e,this.callback=i;const n=new l.Z,r=n.createTagElement("label",["filter-checkbox__label--L72qn"],this.label);this.checkbox=n.createTagElement("input",["filter-checkbox--Ehil7"]),this.checkbox.setAttribute("type","checkbox"),e.includes(this.label)&&this.checkbox.setAttribute("checked",""),r.prepend(this.checkbox),this.element=r}getElement(){return this.element}updateSource(){const t=this.filters.indexOf(this.label);this.checkbox.checked&&t<0&&this.filters.push(this.label),!this.checkbox.checked&&t>=0&&this.filters.splice(t)}}const W="filter-popup__group--o_qHh",Q="filter-popup__group-legend--Cm2NV";var K;!function(t){t.ENTER="Enter",t.NUMPAD_ENTER="NumpadEnter",t.ESC="Escape"}(K||(K={}));class z{constructor(t,e,i){this.filterInputs=[],this.BUTTON_APPLY_TEXT="Apply",this.PRICE_FILTER_TITLE="price",this.POPUP_TITLE="Filter",this.tagCreator=new l.Z,this.observer=Z.Z.getInstance(),this.element=this.tagCreator.createTagElement("dialog",["filter-popup--FOGM1"]),this.filterUsed=e,this.filterData=t,this.priceGroup=i,this.configView(),this.configClosing()}getDialog(){return this.element}configView(){const t=this.tagCreator.createTagElement("div",["filter-popup__wrapper--cf0us"]),e=this.tagCreator.createTagElement("span",["filter-popup__title--_mmc9"],this.POPUP_TITLE);t.append(e),t.append(this.createGroupPrice()),t.append(this.createGroupGenre()),t.append(this.createGroupPlatform()),t.append(this.createGroupDeveloper());const i=this.createApplyButton();t.append(i.getElement());const n=this.createCloseButton();t.append(n),this.element.append(t)}createCloseButton(){const t=this.tagCreator.createTagElement("a",["filter-popup__close-icon--CenEx"]);return t.addEventListener("click",(()=>this.getDialog().remove())),t.setAttribute("tabindex","1"),t.setAttribute("autofocus",""),t}createApplyButton(){return new U.Z(this.BUTTON_APPLY_TEXT,(()=>{this.filterInputs.forEach((t=>t.updateSource())),this.observer.notify(x.Z.UPDATE_CATALOG_CARDS),this.observer.notify(x.Z.UPDATE_FILTER_TAGS),this.getDialog().remove()}))}createGroupDeveloper(){const t=this.tagCreator.createTagElement("fieldset",[W]),e=this.tagCreator.createTagElement("legend",[Q],k.DEVELOPER);return t.append(e),this.filterData[k.DEVELOPER].forEach((e=>{const i=new V(e,this.filterUsed[k.DEVELOPER]);this.filterInputs.push(i),t.append(i.getElement())})),t}createGroupPlatform(){const t=this.tagCreator.createTagElement("fieldset",[W]),e=this.tagCreator.createTagElement("legend",[Q],k.PLATFORM);return t.append(e),this.filterData[k.PLATFORM].forEach((e=>{const i=new V(e,this.filterUsed[k.PLATFORM]);this.filterInputs.push(i),t.append(i.getElement())})),t}createGroupPrice(){const t=this.tagCreator.createTagElement("fieldset",[W]),e=this.tagCreator.createTagElement("legend",[Q],this.PRICE_FILTER_TITLE),i=this.tagCreator.createTagElement("div",["filter-popup__price-wrapper--dYS00"]);return i.append(this.priceGroup.minPrice.getElement(),this.priceGroup.maxPrice.getElement()),t.append(e,i),t}createGroupGenre(){const t=this.tagCreator.createTagElement("fieldset",[W]),e=this.tagCreator.createTagElement("legend",[Q],k.GENGE);return t.append(e),this.filterData[k.GENGE].forEach((e=>{const i=new V(e,this.filterUsed[k.GENGE]);this.filterInputs.push(i),t.append(i.getElement())})),t}configClosing(){const t=this.onCloseDialog.bind(this);this.element.addEventListener("click",t),this.element.addEventListener("keydown",t)}onCloseDialog(t){t instanceof KeyboardEvent&&t.code===K.ESC&&this.element.remove(),t instanceof MouseEvent&&t.target instanceof HTMLDialogElement&&this.element.remove()}}class j{constructor(t){this.WRONG_PRICE_RANGE="Price filter didn't applied.\n Wrong price range: %MIN% to %MAX%",this.MIN_PRICE_TITLE="min",this.MAX_PRICE_TITLE="max",this.CURRENCY_FACTOR=100,this.filterData=this.getEmptyFilterArray(),this.filterUsed=this.getEmptyFilterArray(),this.filterPriceData=this.getEmptyPriceData(),this.filterHeader=new H,this.observer=Z.Z.getInstance(),this.productApi=t,this.getFilterData(),this.createFilterTags(),this.observer.subscribe(x.Z.SHOW_FILTER,this.showFilterPopup.bind(this)),this.observer.subscribe(x.Z.UPDATE_FILTER_TAGS,this.createFilterTags.bind(this))}getFilterData(){this.productApi.getProducts().then((t=>{const{results:e}=t.body;e.forEach((t=>{const{attributes:e}=t.masterVariant;e&&e.forEach((t=>{t.name===k.GENGE&&this.filterData[k.GENGE].push(t.value[0].key),t.name===k.PLATFORM&&this.filterData[k.PLATFORM].push(t.value[0].key),t.name===k.DEVELOPER&&this.filterData[k.DEVELOPER].push(t.value[0])}))})),this.filterData.genre=Array.from(new Set(this.filterData.genre)),this.filterData.Platform=Array.from(new Set(this.filterData.Platform)),this.filterData.developer=Array.from(new Set(this.filterData.developer))})).catch((t=>(new L.Z).showMessage(t.message)))}getFilterHeaderElement(){return this.filterHeader.getCreator().getElement()}getEmptyPriceData(){return{minPrice:new F(this.MIN_PRICE_TITLE,""),maxPrice:new F(this.MAX_PRICE_TITLE,"")}}getEmptyFilterArray(){return{genre:[],Platform:[],developer:[]}}clearFilters(){this.filterUsed=this.getEmptyFilterArray(),this.filterPriceData=this.getEmptyPriceData(),this.createFilterTags()}showFilterPopup(){const t=new z(this.filterData,this.filterUsed,this.filterPriceData).getDialog();document.body.prepend(t),t.showModal()}createFilterTags(){this.filterHeader.clearFilterTags(),this.filterUsed.genre.forEach((t=>{this.filterHeader.addFilterTag(k.GENGE,t,this.deleteFilterTag.bind(this,this.filterUsed.genre,t))})),this.filterUsed.Platform.forEach((t=>{this.filterHeader.addFilterTag(k.PLATFORM,t,this.deleteFilterTag.bind(this,this.filterUsed.Platform,t))})),this.filterUsed.developer.forEach((t=>{this.filterHeader.addFilterTag(k.DEVELOPER,t,this.deleteFilterTag.bind(this,this.filterUsed.developer,t))}))}deleteFilterTag(t,e){const i=t.indexOf(e);i>=0&&t.splice(i,1),this.observer.notify(x.Z.UPDATE_CATALOG_CARDS),this.observer.notify(x.Z.UPDATE_FILTER_TAGS)}getFilterCondition(){return[this.getFilterForArrtibute(n.ENUM_ATTRIBUTE_MASK,k.GENGE),this.getFilterForArrtibute(n.ENUM_ATTRIBUTE_MASK,k.PLATFORM),this.getFilterForArrtibute(n.TEXT_ATTRIBUTE_MASK,k.DEVELOPER),this.getFilterForPrice(n.PRICE_FILTER_MASK)].filter((t=>t))}getFilterForPrice(t){const e=this.filterPriceData.minPrice.value||"0",i=this.filterPriceData.maxPrice.value||"0";return+e>+i||+e<0||+i<0?((new L.Z).showMessage(this.WRONG_PRICE_RANGE.replace("%MIN%",e).replace("%MAX%",i)),""):0==+e&&0==+i?"":(this.filterPriceData.minPrice.value=e,t.replace("%MIN%",(+e*this.CURRENCY_FACTOR).toString()).replace("%MAX%",(+i*this.CURRENCY_FACTOR).toString()))}getFilterForArrtibute(t,e){const i=[];return this.filterUsed[e].forEach((t=>i.push(`"${t}"`))),i.length>0?t.replace("%ATTRIBUTE%",e).replace("%VALUE%",i.join(",")):""}}var X,q;!function(t){t.ASC="▲",t.DESC="▼"}(X||(X={})),function(t){t[t.NAME_ASC=0]="NAME_ASC",t[t.NAME_DESC=1]="NAME_DESC",t[t.PRICE_ASC=2]="PRICE_ASC",t[t.PRICE_DESC=3]="PRICE_DESC"}(q||(q={}));class J extends u.Z{constructor(){super({tag:c.Z.DIV,classNames:["sort-header--Jog3u"],textContent:""}),this.sortCondition=q.NAME_ASC,this.observer=Z.Z.getInstance(),this.options=[{title:`Name ${X.ASC}`,value:q.NAME_ASC,sortOrder:"name.en asc"},{title:`Name ${X.DESC}`,value:q.NAME_DESC,sortOrder:"name.en desc"},{title:`Price ${X.ASC}`,value:q.PRICE_ASC,sortOrder:"variants.scopedPrice.currentValue.centAmount asc"},{title:`Price ${X.DESC}`,value:q.PRICE_DESC,sortOrder:"variants.scopedPrice.currentValue.centAmount desc"}],this.sortList=this.createSortList(),this.configView()}configView(){this.sortList.addEventListener("change",this.sortHandler.bind(this)),this.getElement().append(this.sortList)}getSortCondition(){return this.options[this.sortList.selectedIndex].sortOrder}sortHandler(){this.observer.notify(x.Z.UPDATE_CATALOG_CARDS)}createSortList(){const t=new l.Z,e=t.createTagElement("select",["sort-header__list--SSlNO"]);return this.options.forEach((i=>{const n=t.createTagElement("option",["sort-header__option--MsrVg"],i.title);n.setAttribute("value",i.value.toString()),e.append(n)})),e}}class ${constructor(t){this.PLACEHOLDER="Ask me...",this.callback=t;const e=new l.Z;this.element=e.createTagElement("input",["search-input--pnryc"]),this.element.setAttribute("type","search"),this.element.setAttribute("placeholder",this.PLACEHOLDER),this.element.addEventListener("search",(()=>t()))}getElement(){return this.element}clear(){this.element.value=""}getSearchString(){return this.element.value.trim()}}var tt=i(22);var et,it=i(7286);class nt extends u.Z{constructor(t,e,i){super({tag:c.Z.NAV,classNames:["pagination--mywBk"],textContent:""}),this.config=t,this.paginations=e,this.callback=i,this.buttonPrev=new it.Z(this.clickPrevButtonHandler.bind(this),"pagination__button-prev--MS7sm"),this.buttonNext=new it.Z(this.clickNextButtonHandler.bind(this),"pagination__button-next--wonQK"),this.setupButtons(),this.configView()}initConfig(t){this.config=this.correctConfig(t),this.setupButtons()}setupButtons(){if(this.config.total<=0)return this.buttonPrev.disableButton(),void this.buttonNext.disableButton();this.config.offset+this.config.limit>=this.config.total?this.buttonNext.disableButton():this.buttonNext.enableButton(),0===this.config.offset?this.buttonPrev.disableButton():this.buttonPrev.enableButton()}correctConfig(t){return this.config=t,this.config.offset=0,this.config.currentPage=0,t}configView(){this.setupButtons(),this.getElement().append(this.buttonPrev.getElement(),this.buttonNext.getElement())}clickPrevButtonHandler(){this.config.offset-this.config.limit<=0?(this.config.offset=0,this.config.currentPage=0):(this.config.offset-=this.config.limit,this.config.currentPage-=1),this.paginations.forEach((t=>t.setupButtons())),this.callback()}clickNextButtonHandler(){this.config.offset+this.config.limit<this.config.total&&(this.config.offset+=this.config.limit,this.config.currentPage+=1,this.paginations.forEach((t=>t.setupButtons())),this.callback())}}!function(t){t[t.PAGINATION_TOP=0]="PAGINATION_TOP",t[t.PAGINATION_BOTTOM=1]="PAGINATION_BOTTOM"}(et||(et={}));const rt=et;var st=i(4602),at=i(5318),ot={};ot.styleTagTransform=G(),ot.setAttributes=v(),ot.insert=_().bind(null,"head"),ot.domAPI=P(),ot.insertStyleElement=I(),b()(at.Z,ot),at.Z&&at.Z.locals&&at.Z.locals;class ct{constructor(){const t=st.Z.ElementFromHTML('<div id="floatingCirclesG"> <div class="f_circleG" id="frotateG_01"></div> <div class="f_circleG" id="frotateG_02"></div> <div class="f_circleG" id="frotateG_03"></div> <div class="f_circleG" id="frotateG_04"></div> <div class="f_circleG" id="frotateG_05"></div> <div class="f_circleG" id="frotateG_06"></div> <div class="f_circleG" id="frotateG_07"></div> <div class="f_circleG" id="frotateG_08"></div> </div> ');this.element=(new l.Z).createTagElement("div",["spinner"]),this.element.append(t),Z.Z.getInstance().subscribe(x.Z.SPINNER_SHOW,this.showSpinner.bind(this)),Z.Z.getInstance().subscribe(x.Z.SPINNER_HIDE,this.hideSpinner.bind(this))}getElement(){return this.element}showSpinner(){this.getElement().classList.remove("spinner_hide")}hideSpinner(){this.getElement().classList.add("spinner_hide")}}class lt extends u.Z{constructor(t){super({tag:c.Z.SECTION,classNames:["catalog-view--MIS7q"],textContent:""}),this.LANG="en-US",this.COUNTRY="US",this.CARDS_COUNT=6,this.NOT_FOUND="Products not found",this.MESSAGE_CUSTOMER_ID_NOT_FOUND="Customer ID not found",this.pagination=[],this.cards=[],this.observer=Z.Z.getInstance(),this.spinner=new ct,this.productApi=new o,this.filter=new j(this.productApi),this.search=new $(this.dispatchSearch.bind(this)),this.sorting=new J,this.router=t,this.paginationConfig={total:0,limit:this.CARDS_COUNT,offset:0,currentPage:0},this.pagination.push(new nt(this.paginationConfig,this.pagination,this.dispatchDataQuery.bind(this))),this.pagination.push(new nt(this.paginationConfig,this.pagination,this.dispatchDataQuery.bind(this))),this.initPagination(),this.observer.subscribe(x.Z.UPDATE_CATALOG_CARDS,this.recallProductCards.bind(this)),this.observer.subscribe(x.Z.UPDATE_CART,this.checkProductsInCart.bind(this)),this.controlsWrapper=(new l.Z).createTagElement("div",["controls-wrapper--gM5pc"]),this.cardsWrapper=(new l.Z).createTagElement("div",["content-wrapper--zfsyF"]),this.getElement().append(this.spinner.getElement(),this.cardsWrapper),this.configView()}dispatchDataQuery(){this.search.getSearchString()?this.getSearchProducts():this.getProducts()}dispatchSearch(){this.pagination.forEach((t=>t.initConfig(this.paginationConfig))),this.getSearchProducts()}initPagination(){this.observer.notify(x.Z.SPINNER_SHOW),this.productApi.getProducts({limit:0}).then((t=>{this.paginationConfig.total=t.body?.total||0,this.pagination.forEach((t=>t.initConfig(this.paginationConfig)))})).catch((t=>(new L.Z).showMessage(t.message))).finally((()=>this.observer.notify(x.Z.SPINNER_HIDE)))}checkProductsInCart(){this.cards.forEach((t=>{t.setProductInCart(Math.random()>.5)}))}recallProductCards(){this.search.clear(),this.pagination.forEach((t=>t.initConfig(this.paginationConfig))),this.getProducts()}configView(){const t=this.filter.getFilterHeaderElement(),e=this.sorting.getElement();this.controlsWrapper.append(t,this.search.getElement(),e),this.getElement().append(this.controlsWrapper,this.pagination[rt.PAGINATION_TOP].getElement(),this.cardsWrapper,this.pagination[rt.PAGINATION_BOTTOM].getElement()),this.getProducts()}getSearchProducts(){const t=this.search.getSearchString();if(t){const e=this.getSearchQueryParams(t);e.limit=this.paginationConfig.limit,e.offset=this.paginationConfig.offset,this.observer.notify(x.Z.SPINNER_SHOW),this.productApi.getProducts(e).then((t=>{t.body?.total&&this.paginationConfig.total!==t.body?.total&&(this.paginationConfig.total=t.body?.total||0,this.pagination.forEach((t=>t.setupButtons())));const e=t.body.results;e.length?(this.filter.clearFilters(),this.createProductCards(e)):(new tt.Z).showMessage(this.NOT_FOUND)})).catch((t=>(new L.Z).showMessage(t.message))).finally((()=>this.observer.notify(x.Z.SPINNER_HIDE)))}else this.getProducts()}getProducts(){const t=this.getQueryParams();t.limit=this.paginationConfig.limit,t.offset=this.paginationConfig.offset,this.observer.notify(x.Z.SPINNER_SHOW),this.productApi.getProducts(t).then((t=>{this.paginationConfig.total!==t.body?.total&&(this.paginationConfig.total=t.body?.total||0,this.pagination.forEach((t=>t.setupButtons()))),this.paginationConfig.total=t.body?.total||0;const e=t.body.results;this.createProductCards(e),e.length||(new tt.Z).showMessage(this.NOT_FOUND)})).catch((t=>(new L.Z).showMessage(t.message))).finally((()=>this.observer.notify(x.Z.SPINNER_HIDE)))}getQueryParams(){const t={fuzzy:!1,priceCountry:"US",priceCurrency:"USD",markMatchingVariants:!0,sort:this.sorting.getSortCondition()},e=this.filter.getFilterCondition();e.length&&(t.filter=e);const i=this.sorting.getSortCondition();return i&&(t.sort=i),t}getSearchQueryParams(t){return{"text.en":t,fuzzy:!0,priceCountry:"US",priceCurrency:"USD",markMatchingVariants:!0}}createProductCards(t){this.cardsWrapper.replaceChildren(""),this.cards.length=0,t.forEach((t=>{if(t.key){const e=new M(t,this.router);this.cards.push(e),this.cardsWrapper.append(e.getElement())}})),this.checkProductsInCart()}}},2953:(t,e,i)=>{var n;i.d(e,{Z:()=>r}),function(t){t.MAIL_ADDRESS="mailAddress",t.ANONYMOUS_ID="anonimousId",t.ANONIM_CART_ID="anonimCartID"}(n||(n={}));const r=n},9909:(t,e,i)=>{i.d(e,{Z:()=>n});class n{static newGuid(){const t=[];return t.push(n.getHexRandom(268435456,4294967295)),t.push(n.getHexRandom(4096,65535)),t.push(n.getHexRandom(4096,65535)),t.push(n.getHexRandom(4096,65535)),t.push(n.getHexRandom(17592186044416,0xffffffffffff)),t.join("-")}static getHexRandom(t,e){return Math.floor(t+Math.random()*(e+1-t)).toString(16)}}},9954:t=>{t.exports="data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA"}}]);