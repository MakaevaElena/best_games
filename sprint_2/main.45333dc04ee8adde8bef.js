(()=>{"use strict";var e,t,n={91:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},891:(e,t,n)=>{n.d(t,{_:()=>s,bm:()=>r,q6:()=>i});const s={INDEX:"index",LOGIN:"login",REGISTRATION:"registration",PRODUCT:"product",NOT_FOUND:"404",EMPTY:""},r={INDEX:"Main",LOGIN:"Log In",REGISTRATION:"Sign In",PRODUCT:"Catalog"},i="{id}"},213:(e,t,n)=>{n.d(t,{Z:()=>o});const s="selected--MHVHa";var r=n(928),i=n(567),a=n(891);class o extends r.Z{constructor(e,t,n){super({tag:i.Z.A,textContent:e,classNames:["link-button--QFx_T"]}),this.linksGroup=n,this.getElement().addEventListener("click",t),this.configView()}configView(){this.getElement().addEventListener("click",(()=>{this.markSelected()})),this.viewForLoggedUser()}markSelected(){this.linksGroup&&(this.linksGroup.forEach((e=>{e.markUnSelected()})),this.getElement().classList.add(s))}markUnSelected(){this.getElement().classList.remove(s)}hideButton(){this.getElement().classList.add("hide--dDtEv")}disableButton(){this.getElement().classList.add("link-button_disabled--Dp40F")}showButton(){this.getElement().classList.add("show--cBgSe")}viewForLoggedUser(){"true"===localStorage.getItem("isLogin")&&this.linksGroup&&(this.linksGroup.get(a.bm.REGISTRATION)?.disableButton(),this.linksGroup.get(a.bm.LOGIN)?.disableButton())}}},928:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(602);class r{constructor(e){this.elementCreator=this.createView(e),this.element=this.elementCreator.getElement()}getElement(){return this.element}getCreator(){return this.elementCreator}createView(e){return this.elementCreator=new s.Z(e),this.elementCreator}}},881:(e,t,n)=>{var s;n.d(t,{Z:()=>r}),function(e){e[e.LOGIN=0]="LOGIN",e[e.LOGOUT=1]="LOGOUT"}(s||(s={}));const r=s},567:(e,t,n)=>{var s;n.d(t,{Z:()=>r}),function(e){e.A="a",e.MAIN="main",e.DIV="div",e.BUTTON="button",e.HEADER="header",e.NAV="nav",e.SECTION="section",e.INPUT="input",e.SPAN="span",e.DIALOG="dialog"}(s||(s={}));const r=s},296:(e,t,n)=>{n.d(t,{Z:()=>r});class s{constructor(){this.listeners=new Map,s.instance||(s.instance=this)}static getInstance(){return s.instance}subscribe(e,t){let n=this.listeners.get(e);n||(n=new Array,this.listeners.set(e,n)),n.push(t)}unsubscribe(e){this.listeners.delete(e)}notify(e,t){const n=this.listeners.get(e);n&&n.forEach((e=>e(t)))}}s.instance=new s;const r=s},602:(e,t,n)=>{n.d(t,{Z:()=>s});class s{constructor(e){this.element=this.createElement(e)}static ElementFromHTML(e){const t=document.createElement("template");return t.innerHTML=e,t.content}getElement(){return this.element}addInnerElement(e){e instanceof s?this.element.append(e.getElement()):this.element.append(e)}clearInnerContent(){this.element.replaceChildren("")}createElement(e){return this.element=document.createElement(e.tag),this.setCssClasses(e.classNames),this.setTextContent(e.textContent),this.element}setCssClasses(e){this.element.classList.add(...e)}setTextContent(e){e&&(this.element.textContent=e)}}},694:(e,t,n)=>{e.exports=n.p+"assets/01b93d3918ff7685207d.svg"},746:(e,t,n)=>{e.exports=n.p+"assets/3b826f4da8f3a9b9db36.svg"}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+"."+{8:"e3a6001185e5bb38a4c8",106:"953887fd2a7e3ea06bca",336:"bc37c16bdc902db02ad0",560:"c7652c01af35bf2a377d",746:"e97dc01caa8a1a702929"}[e]+".js",r.miniCssF=e=>e+"."+{8:"ad42f53cdf67fc448d67",106:"3b45273685dc9de74015",336:"90790d9fb199ed85948d",560:"d1fd05326a04a50b2f1d"}[e]+".css",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="ecommerce-application:",r.l=(n,s,i,a)=>{if(e[n])e[n].push(s);else{var o,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var d=l[h];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(c=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[s];var u=(t,s)=>{o.onerror=o.onload=null,clearTimeout(g);var r=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(s))),t)return t(s)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),c&&document.head.appendChild(o)}},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&!e;)e=n[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{if("undefined"!=typeof document){var e={179:0};r.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{8:1,106:1,336:1,560:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var s=r.miniCssF(e),i=r.p+s;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var r=(a=n[s]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var i=document.getElementsByTagName("style");for(s=0;s<i.length;s++){var a;if((r=(a=i[s]).getAttribute("data-href"))===e||r===t)return a}})(s,i))return t();((e,t,n,s,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)s();else{var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=o,i.parentNode&&i.parentNode.removeChild(i),r(c)}},i.href=t,document.head.appendChild(i)})(e,i,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{r.b=document.baseURI||self.location.href;var e={179:0};r.f.j=(t,n)=>{var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var i=new Promise(((n,r)=>s=e[t]=[n,r]));n.push(s[2]=i);var a=r.p+r.u(t),o=new Error;r.l(a,(n=>{if(r.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var s,i,[a,o,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);c&&c(r)}for(t&&t(n);l<a.length;l++)i=a[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkecommerce_application=self.webpackChunkecommerce_application||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=r(91),t=r.n(e),n=new URL(r(694),r.b),s=new URL(r(746),r.b);const i='<link rel="apple-touch-icon" sizes="180x180" href="'+t()(n)+'"/> <link rel="icon" href="'+t()(s)+'"/> ';var a=r(602);class o{constructor(){this.template=i,this.element=this.createElement()}getElement(){return this.element}createElement(){return a.Z.ElementFromHTML(this.template)}}var c,l=r(891);!function(e){e.PATHNAME="pathname",e.HASH="hash"}(c||(c={}));class h{constructor(e){this.callback=e,this.params={nameEvent:"hashchange",locationField:c.HASH},window.addEventListener(this.params.nameEvent,this.windowEventHandler.bind(this))}windowEventHandler(e){let t="";e instanceof HashChangeEvent&&e.currentTarget instanceof Window&&(t=e.currentTarget.location.hash.slice(1)),this.navigate(t)}navigate(e){window.history.pushState(null,"",`#${e}`);const t=window.location[this.params.locationField].slice(1),n=(e||t).split("/"),s={path:"",resource:""};[s.path="",s.resource=""]=n,this.callback(s)}}class d{constructor(e){this.routes=e,this.handler=new h(this.urlChangedHandler.bind(this)),document.addEventListener("DOMContentLoaded",(()=>{this.handler.navigate("")}))}getRoutes(){return this.routes}navigate(e){this.handler.navigate(e)}urlChangedHandler(e){const t=""===e.resource?e.path:`${e.path}/${l.q6}`,n=this.routes.find((e=>e.path===t));n?n.callback():this.redirectToNotFoundPage()}redirectToNotFoundPage(){const e=this.routes.find((e=>e.path===l._.NOT_FOUND));e&&this.navigate(e.path)}}class u{constructor(){this.map=new Map}get(e){return this.map.get(e)}set(e,t){this.map.set(e,t)}has(e){return this.map.has(e)}}var g=r(567),m=r(928);const p={"footer-view":"footer-view--pIyQY"};class f extends m.Z{constructor(){super({tag:g.Z.SECTION,classNames:Object.values(p),textContent:""})}configView(){throw new Error(`configView() for ${this.getElement()} not implemented`)}setContent(e){this.getCreator().clearInnerContent(),this.getCreator().addInnerElement(e)}}var v=r(213);var w=r(296),E=r(881);class b extends m.Z{constructor(e){super({tag:g.Z.SECTION,classNames:["header-view--iTtNY"],textContent:""}),this.observer=w.Z.getInstance(),this.observer?.subscribe(E.Z.LOGIN,this.updateHeader.bind(this)),this.headerLinks=new Map,this.router=e,this.configView()}setContent(e){this.getCreator().clearInnerContent(),this.getCreator().addInnerElement(e)}configView(){this.createLinkButtons(),this.createLogoutButton()}createLinkButtons(){Object.keys(l.bm).forEach((e=>{const t=l._[e],n=l.bm[e];if(this.getRoute(t)){const s=new v.Z(n,(()=>this.router.navigate(t)),this.headerLinks);this.headerLinks.set(l.bm[e],s),this.getCreator().addInnerElement(s.getElement())}}))}createLogoutButton(){const e=new v.Z("Logout",(()=>this.router.navigate("")),this.headerLinks);e.getElement().addEventListener("click",(()=>{localStorage.setItem("isLogin","false"),this.observer.notify(E.Z.LOGOUT),this.updateHeader(),this.router.navigate(l._.INDEX)})),null!==localStorage.getItem("isLogin")&&"false"!==localStorage.getItem("isLogin")||e.getElement().classList.add("hide--h3gHf"),this.getCreator().addInnerElement(e.getElement())}updateHeader(){this.getCreator().clearInnerContent(),this.configView()}getRoute(e){return this.router.getRoutes().find((t=>t.path===e))}}const N={"main-view":"main-view--ckRdR"};class I extends m.Z{constructor(){super({tag:g.Z.MAIN,classNames:Object.values(N),textContent:"MainView"})}configView(){throw new Error(`configView() for ${this.getElement()} not implemented`)}setContent(e){this.getCreator().clearInnerContent(),this.getCreator().addInnerElement(e)}}(new class{constructor(){this.viewStorage=new u,this.favicon=new o;const e=this.getRoutes();this.router=new d(e),this.main=new I,this.header=new b(this.router),this.footer=new f}init(){document.head.append(this.favicon.getElement()),document.body.append(this.header.getElement()),document.body.append(this.main.getElement()),document.body.append(this.footer.getElement())}setContent(e,t){const n=this.main.getCreator();n.clearInnerContent(),n.addInnerElement(t.getElement())}getRoutes(){return[{path:"",callback:async()=>{const{getView:e}=await r.e(336).then(r.bind(r,336)),t=this.viewStorage.has(l._.INDEX)?this.viewStorage.get(l._.INDEX):e(this.router);t&&(this.viewStorage.set(l._.INDEX,t),this.setContent(l._.INDEX,t))}},{path:`${l._.INDEX}`,callback:async()=>{const{getView:e}=await r.e(336).then(r.bind(r,336)),t=this.viewStorage.has(l._.INDEX)?this.viewStorage.get(l._.INDEX):e(this.router);t&&(this.viewStorage.set(l._.INDEX,t),this.setContent(l._.INDEX,t))}},{path:`${l._.LOGIN}`,callback:async()=>{const{getView:e}=await Promise.all([r.e(746),r.e(106)]).then(r.bind(r,106)),t=this.viewStorage.has(l._.LOGIN)?this.viewStorage.get(l._.LOGIN):e(this.router);"true"===localStorage.getItem("isLogin")&&this.router.navigate(l._.INDEX),t&&(this.viewStorage.set(l._.LOGIN,t),this.setContent(l._.LOGIN,t))}},{path:`${l._.REGISTRATION}`,callback:async()=>{const{getView:e}=await Promise.all([r.e(746),r.e(560)]).then(r.bind(r,560)),t=this.viewStorage.has(l._.REGISTRATION)?this.viewStorage.get(l._.REGISTRATION):e(this.router);t&&(this.viewStorage.set(l._.REGISTRATION,t),this.setContent(l._.REGISTRATION,t))}},{path:`${l._.NOT_FOUND}`,callback:async()=>{const{getView:e}=await r.e(8).then(r.bind(r,8)),t=this.viewStorage.has(l._.NOT_FOUND)?this.viewStorage.get(l._.NOT_FOUND):e(this.router);t&&(this.viewStorage.set(l._.NOT_FOUND,t),this.setContent(l._.NOT_FOUND,t))}}]}}).init()})()})();