"use strict";(self.webpackChunkecommerce_application=self.webpackChunkecommerce_application||[]).push([[407],{407:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m,getView:()=>l});var a=n(429),r=n(567),s=n(602),o=n(891),c=n(720),d=n(928);const i={"content-wrapper":"syQzUMXVDCUlFQbu0mFZ","product-view":"DjmcUPTqRBkQuBidELZs","product-view__popup":"lQrvIxmKir37vAsW2n2o","product-section":"tfDUPktZOAwDE9naEY0c","product-images":"YrCMspNBN9MCtvRk1F0g","product-image":"LVNWKU2OwPCA3rcLVJ_c","product-info":"hIRJMuPFwpI7yGvRcGpw","product-name":"A7Cae8KO7lMT0HjSPmPQ",button:"nQVk8EtMqZFADUJSNiS9"};var p=n(249);const u="GAME not found";class m extends d.Z{constructor(e){super({tag:r.Z.SECTION,classNames:[i["product-view"]],textContent:""}),this.productId="",this.anonimApi=new a.Z,this.router=e,this.wrapper=(new p.Z).createTagElement("div",[i["content-wrapper"]]),this.getCreator().addInnerElement(this.wrapper)}initContent(e){e&&(this.productId=e),this.configView()}configView(){this.createContent()}setContent(e){this.wrapper.replaceChildren(""),e instanceof s.Z?this.wrapper.append(e.getElement()):this.wrapper.append(e)}createContent(){this.renderProductCart(this.productId)}createMainButton(){return new c.Z(o.bm.INDEX,(()=>{this.router.navigate(o._.INDEX)}))}renderProductCart(e){this.anonimApi.productProjectionResponseKEY(e).then((e=>{200!==e.statusCode&&this.createMessagePopup(u),console.log("product",e);const t=new s.Z({tag:r.Z.SECTION,classNames:[i["product-section"]],textContent:""}),n=new s.Z({tag:r.Z.DIV,classNames:[i["product-images"]],textContent:""}),a=new s.Z({tag:r.Z.DIV,classNames:[i["product-image"]],textContent:""});e.body.masterVariant.images&&(a.getElement().style.backgroundImage=`url(${e.body.masterVariant.images?.[0].url})`);const o=new s.Z({tag:r.Z.DIV,classNames:[i["product-info"]],textContent:"PRODUCT INFO"}),c=new s.Z({tag:r.Z.SPAN,classNames:[i["product-name"]],textContent:`${e.body.name.en}`}),d=new s.Z({tag:r.Z.SPAN,classNames:[i["product-category"]],textContent:`CATEGORY: ${e.body.masterVariant.attributes?.[3].value?.[0].key}`}),m=0!==e.body.masterVariant.prices?.length?`PRICE: ${e.body.masterVariant.prices?.[0].value?.centAmount} ${e.body.masterVariant.prices?.[0].value?.currencyCode}`:"",l=new s.Z({tag:r.Z.SPAN,classNames:[i["product-price"]],textContent:m}),g=new s.Z({tag:r.Z.DIV,classNames:[i["product-attributes"]],textContent:"ATTRIBUTES:"}),E=new s.Z({tag:r.Z.DIV,classNames:[i["product-developer"],i.attributes],textContent:`DEVELOPER: ${e.body.masterVariant.attributes?.[0].value[0]}`}),w=new s.Z({tag:r.Z.DIV,classNames:[i["product-developer"],i.attributes],textContent:`PLAYERS QUANTITY: ${e.body.masterVariant.attributes?.[1].value[0]}`}),Z=new s.Z({tag:r.Z.DIV,classNames:[i["product-developer"],i.attributes],textContent:`PLATFORM: ${e.body.masterVariant.attributes?.[2].value[0].key}`}),I=new s.Z({tag:r.Z.DIV,classNames:[i["product-developer"],i.attributes],textContent:`GENRE: ${e.body.masterVariant.attributes?.[3].value[0].key}`}),C=new s.Z({tag:r.Z.DIV,classNames:[i["product-developer"],i.attributes],textContent:`RELEASE: ${e.body.masterVariant.attributes?.[4].value[0]}`}),h=(new p.Z).createTagElement("span",[i["product-video"]],""),N=new s.Z({tag:r.Z.SPAN,classNames:[i["product-description"]],textContent:`DESCRIPTION: ${e.body.description?.en}`}),b=new s.Z({tag:r.Z.BUTTON,classNames:[i["product-description"],i.button],textContent:"ADD TO CART"});n.addInnerElement(a),t.addInnerElement(n),t.addInnerElement(o),o.addInnerElement(c),o.addInnerElement(d),o.addInnerElement(l),o.addInnerElement(N),o.addInnerElement(b),o.addInnerElement(g),g.addInnerElement(E),g.addInnerElement(w),g.addInnerElement(Z),g.addInnerElement(I),g.addInnerElement(C),this.wrapper.append(t.getElement()),this.wrapper.append(h)})).catch((()=>{this.createMessagePopup(u)}))}getProducts(){this.anonimApi.getProducts().catch((e=>{throw this.createMessagePopup("error.message"),new Error(e.message)}))}getProductByKey(e){this.anonimApi.productProjectionResponseKEY(e).then((e=>{console.log("product",e)}))}createMessagePopup(e){const t=new s.Z({tag:r.Z.DIV,classNames:[i["product-view__popup"]],textContent:e});this.getCreator().addInnerElement(t),t.getElement().addEventListener("click",(()=>{t.getElement().remove()}))}}function l(e){return new m(e)}},249:(e,t,n)=>{n.d(t,{Z:()=>a});class a{createTagElement(e,t,n=""){const a=document.createElement(e);return a.classList.add(...t),a.innerHTML=n||"",a}}}}]);